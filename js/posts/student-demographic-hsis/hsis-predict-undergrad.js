//const { ChartLabel } = require("react-viz");

let ctx6 = document.getElementById('HSIS_Projection_Undergrad');

var HSIS_Projection_Undergrad = new Chart(ctx6, {
  type: 'line',
  data: {
    labels: [
      '2000',
      '2001',
      '2002',
      '2003',
      '2004',
      '2005',
      '2006',
      '2007',
      '2008',
      '2009',
      '2010',
      '2011',
      '2012',
      '2013',
      '2014',
      '2015',
      '2016',
      '2017',
      '2018',
      '2019',
      '2020',
      '2021',
      '2022',
      '2023',
      '2024',
      '2025',
      '2026',
      '2027',
      '2028',
      '2029',
      '2030',
      '2031',
      '2032',
      '2033',
      '2034',
      '2035',
      '2036',
      '2037',
      '2038',
      '2039',
      '2040',
      '2041',
    ],
    datasets: [
      {
        label: 'Current % Undergraduate Hispanic or Latino Students',
        data: [
          0.14,
          0.14,
          0.15,
          0.15,
          0.15,
          0.15,
          0.15,
          0.15,
          0.15,
          0.15,
          0.16,
          0.17,
          0.17,
          0.18,
          0.19,
          0.2,
          0.21,
          0.21,
          0.21,
          0.21,
          0.21,
        ],
        borderColor: '#3284BF',
        fill: false,
      },
      {
        label: 'Trend Line of % Undergraduate Hispanic or Latino Students',
        data: [
          0.1305194805,
          0.1346103896,
          0.1387012987,
          0.1427922078,
          0.1468831169,
          0.150974026,
          0.1550649351,
          0.1591558442,
          0.1632467532,
          0.1673376623,
          0.1714285714,
          0.1755194805,
          0.1796103896,
          0.1837012987,
          0.1877922078,
          0.1918831169,
          0.195974026,
          0.2000649351,
          0.2041558442,
          0.2082467532,
          0.2123376623,
        ],
        lineTension: 0.1,
        borderColor: '#0000CC',
        fill: false,
      },
      {
        label: 'Predicted % Undergraduate Hispanic or Latino Students',
        data: [
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          NaN,
          0.2123376623,
          0.2164285714,
          0.2205194805,
          0.2246103896,
          0.2287012987,
          0.2327922078,
          0.2368831169,
          0.240974026,
          0.2450649351,
          0.2491558442,
          0.2532467532,
          0.2573376623,
          0.2614285714,
          0.2655194805,
          0.2696103896,
          0.2737012987,
          0.2777922078,
          0.2818831169,
          0.285974026,
          0.2900649351,
          0.2941558442,
          0.2982467532,
        ],
        borderColor: '#6600CC',
        lineTension: 0.1,
        borderDash: [5, 5],
        fill: false,
      },
      {
        label: 'HSI Threshold (25%)',
        borderColor: '#FF0000',
        lineTension: 0.1,
        data: [
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
          0.25,
        ],
        fill: false,
      },
    ],
  },
  options: {
    reponsive: true,
    plugins: {
      legend: {
        position: 'top',
      },
    },
    title: {
      display: true,
      text:
        'Yearly Percentage of Undergraduate Hispanic or Latino Students at UCLA',
    },
    scales: {
      yAxes: [
        {
          ticks: {
            callback: function(value) {
              return value.toLocaleString('en-US', {
                style: 'percent',
                minimumFractionDigits: 0,
              }); // convert value to dollar format
            },
            min: 0,
            max: 0.3,
            stepSize: 0.05,
          },
          scaleLabel: {
            display: true,
            labelString: 'Undergraduate Hispanic or Latino Students (%)',
          },
        },
      ],
      xAxes: [
        {
          scaleLabel: {
            display: true,
            labelString: 'Year',
          },
        },
      ],
    },
    tooltips: {
      intersect: true,
      displayColors: true,
      callbacks: {
        label: function(tooltipItem, datasets) {
          label = tooltipItem.yLabel.toLocaleString('en-US', {
            style: 'percent',
            maximumFractionDigits: 2,
          });
          return label;
        },
      },
    },
    animation: false,
  },
});

if (window.matchMedia('(max-width: 480px)').matches) {
  HSIS_Projection_Undergrad.canvas.style = 'max-height:300px';
  HSIS_Projection_Undergrad.options.maintainAspectRatio = false;
  HSIS_Projection_Undergrad.update();
}
